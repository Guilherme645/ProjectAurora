<div *ngIf="!isMobile" class="advanced-search-container">
  <h2 class="title">Busca Avançada <br> <p class="subtitle">Selecione o tipo de busca e insira os parâmetros desejados</p></h2>
  

  <!-- Palavras-chave -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('keywords')">
      Palavras-chave
      <svg [ngClass]="{ 'rotate': isSectionOpen.keywords }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.keywords }">
      <input class="input-field" placeholder="Todas essas palavras" type="text" />
      <input class="input-field" placeholder="Qualquer uma dessas palavras" type="text" />
      <input class="input-field" placeholder="Frase ou palavra exata" type="text" />
      <input class="input-field" placeholder="Nenhuma dessas palavras" type="text" />
    </div>
  </div>

  <!-- Data -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('date')">
      Data
      <svg [ngClass]="{ 'rotate': isSectionOpen.date }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.date }">
      <div class="date-container">
        <input class="date-field" type="text" placeholder="Data Início" />
        <input class="date-field" type="text" placeholder="Data Fim" />
      </div>
    </div>
  </div>

  <!-- Tipos de Mídia -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('media')">
      Tipos de mídia
      <svg [ngClass]="{ 'rotate': isSectionOpen.media }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>

    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.media }">
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.audio" />
        <span class="checkmark"></span>
        Áudio (Rádio)
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.text" />
        <span class="checkmark"></span>
        Texto (Impressos e Web)
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.video" />
        <span class="checkmark"></span>
        Vídeo (Canais de televisão)
      </label>
    </div>
  </div>

  <!-- Veículos -->
 <div class="accordion-section">
  <div class="accordion-header" (click)="openModal()">
    Veículos
    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m6 9 6 6 6-6"></path>
    </svg>
  </div>
</div>
   <!-- Fundo escuro do modal -->
<div class="modal-overlay" *ngIf="isModalOpen" (click)="closeModal()"></div>

<!-- Modal de veículos -->
<div class="modal-container" *ngIf="isModalOpen">
  <div class="modal-header">
    <h2>Selecionar Veículos</h2>
    <button class="close-button" (click)="closeModal()">✖</button>
  </div>

  <!-- Componente Veículos dentro do modal -->
  <app-veiculos></app-veiculos>

  <div class="modal-footer">
    <button class="clear-button" (click)="closeModal()">Fechar</button>
  </div>
</div>

  <!-- Sentimento -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('sentiment')">
      Sentimento
      <svg [ngClass]="{ 'rotate': isSectionOpen.sentiment }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>

    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.sentiment }">
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.positive" />
        <span class="checkmark"></span>
        Positivo
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.neutral" />
        <span class="checkmark"></span>
        Neutro
      </label>

      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.negative" />
        <span class="checkmark"></span>
        Negativo
      </label>
    </div>
  </div>

  <!-- Localização -->
    <div class="accordion-header" (click)="toggleSection('location')">
      Localização
      <svg [ngClass]="{ 'rotate': isSectionOpen.location }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.location }">
      <input class="input-field" placeholder="Digite a localização" />
    </div>
  

  <!-- Botões -->
   <div class="modal-footer">
    <button class="clear-button" (click)="closeModal()">Limpar busca</button>
    <button class="search-button" (click)="navigateToResults()">Fazer busca</button>
  </div>
</div>


<div *ngIf="isMobile" class="advanced-search-mobile">
  <div class="mobile-header">
    <h2 class="title">Busca Avançada</h2>
    <p class="subtitle">Insira os parâmetros desejados</p>
  </div>
  <div class="back-to-simple-search" >
    <span class="text">Voltar para busca simples</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m9 18 6-6-6-6"></path>
    </svg>
  </div>
  
   

  <!-- Palavras-chave -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('keywords')">
      Palavras-chave
      <svg [ngClass]="{ 'rotate': isSectionOpen.keywords }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.keywords }">
      <input class="input-field" placeholder="Todas essas palavras" type="text" />
      <input class="input-field" placeholder="Qualquer uma dessas palavras" type="text" />
      <input class="input-field" placeholder="Frase ou palavra exata" type="text" />
      <input class="input-field" placeholder="Nenhuma dessas palavras" type="text" />
    </div>
  </div>

  <!-- Data -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('date')">
      Data
      <svg [ngClass]="{ 'rotate': isSectionOpen.date }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.date }">
      <div class="date-container">
        <input class="date-field" type="text" placeholder="Data Início" />
        <input class="date-field" type="text" placeholder="Data Fim" />
      </div>
    </div>
  </div>

  <!-- Tipos de Mídia -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('media')">
      Tipos de Mídia
      <svg [ngClass]="{ 'rotate': isSectionOpen.media }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.media }">
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.audio" />
        <span class="checkmark"></span>
        Áudio (Rádio)
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.text" />
        <span class="checkmark"></span>
        Texto (Impressos e Web)
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="mediaTypes.video" />
        <span class="checkmark"></span>
        Vídeo (Canais de televisão)
      </label>
    </div>
  </div>

  <!-- Veículos -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="openModal()">
      Veículos
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
  </div>

  <!-- Modal de Veículos -->
  <div class="modal-overlay" *ngIf="isModalOpen" (click)="closeModal()"></div>
  <div class="modal-container" *ngIf="isModalOpen">
    <div class="modal-header">
      <h2>Selecionar Veículos</h2>
      <button class="close-button" (click)="closeModal()">✖</button>
    </div>
    <app-veiculos></app-veiculos>
    <div class="modal-footer">
      <button class="clear-button" (click)="closeModal()">Fechar</button>
    </div>
  </div>

  <!-- Sentimento -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('sentiment')">
      Sentimento
      <svg [ngClass]="{ 'rotate': isSectionOpen.sentiment }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.sentiment }">
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.positive" />
        <span class="checkmark"></span>
        Positivo
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.neutral" />
        <span class="checkmark"></span>
        Neutro
      </label>
      <label class="custom-checkbox">
        <input type="checkbox" [(ngModel)]="sentiments.negative" />
        <span class="checkmark"></span>
        Negativo
      </label>
    </div>
  </div>

  <!-- Localização -->
  <div class="accordion-section">
    <div class="accordion-header" (click)="toggleSection('location')">
      Localização
      <svg [ngClass]="{ 'rotate': isSectionOpen.location }" class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m6 9 6 6 6-6"></path>
      </svg>
    </div>
    <div class="accordion-content" [ngClass]="{ 'show': isSectionOpen.location }">
      <input class="input-field" placeholder="Digite a localização" />
    </div>
  </div>

  <!-- Botões de ação -->
  <div class="action-buttons">
    <button class="search-button" (click)="performSearch()">Fazer Busca</button>
  </div>
</div>


