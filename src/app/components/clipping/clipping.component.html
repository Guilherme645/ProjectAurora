
<!-- PLAYER DE VÍDEO -->
<video #videoPlayer width="720" controls
       (timeupdate)="onTimeUpdate($event)"
       (loadedmetadata)="onLoadedMetadata($event)"
       class="rounded shadow mb-6 ml-6">
  <source src="assets/video.mp4" type="video/mp4" />
</video>
<!-- SLIDER DINÂMICO DE TEMPO -->
<div class="relative w-[580px] h-[77px] mt-4 ml-[50px]">

  <!-- Faixa azul de seleção -->
  <div class="absolute top-[16px] left-0 w-full h-[48px] bg-blue-100 border border-blue-600 rounded"></div>

  <!-- Pegador esquerdo (fora da faixa) -->
  <div class="absolute w-2 h-5 bg-blue-600 rounded-l cursor-pointer"
       [ngStyle]="{ left: (startLeft - 8) + 'px', top: '28px' }"
       (mousedown)="startDragging('start')">
  </div>

  <!-- Pegador direito (fora da faixa) -->
  <div class="absolute w-2 h-5 bg-blue-600 rounded-r cursor-pointer"
       [ngStyle]="{ left: endLeft + 'px', top: '28px' }"
       (mousedown)="startDragging('end')">
  </div>

  <!-- Linha do tempo atual -->
  <div class="absolute w-px h-[54px] bg-blue-600"
       [ngStyle]="{ left: currentLeft + 'px', top: '14px' }"></div>

  <!-- Tooltip do tempo atual -->
  <div class="absolute bg-gray-900 text-white text-xs font-medium px-2 py-1 rounded shadow z-10"
       [ngStyle]="{
         top: '-30px',
         left: getTooltipPosition(currentLeft) + 'px'
       }">
    {{ formatTimestamp(currentTime) }}
  </div>

 <div *ngFor="let mark of timeMarks"
     class="absolute text-blue-600 text-xs font-medium leading-none"
     [ngStyle]="{
       left: mark.left + 'px',
       top: '30px',         
       zIndex: 5
     }">
    {{ mark.label }}
  </div>
</div>



<!-- TRANSCRIÇÃO FIXA NA LATERAL DIREITA -->
<div class="fixed top-0 right-0 w-[538px] h-screen bg-white rounded-tl-[8px] shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] flex flex-col">
  
  <!-- Cabeçalho -->
  <div class="flex items-center justify-between border-b border-gray-200 shadow-sm px-8 py-6">
    <div class="flex flex-col gap-1">
      <h2 class="text-sm font-semibold text-black">Transcrição</h2>
      <span class="text-xs font-medium text-gray-500">Menção completa</span>
    </div>
    <div class="flex items-center gap-4">
      <button class="w-9 h-9 flex items-center justify-center rounded-lg hover:bg-gray-100">
        <svg class="w-4 h-4 text-gray-800" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24">
          <path d="M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Lista de transcrição -->
  <div class="overflow-y-auto p-8 space-y-2">
    <div *ngFor="let item of transcript"
         (click)="seekTo(item.timestamp)"
         [ngClass]="{
           'bg-blue-900 text-white': item.timestamp <= currentTime && currentTime < item.end,
           'bg-blue-100 text-blue-900': item.end <= currentTime,
           'text-gray-500': currentTime < item.timestamp,
           'cursor-pointer': true,
           'rounded-lg px-4 py-2': true
         }">
      <div class="text-xs font-semibold mb-1 text-gray-400">
        {{ formatTimestamp(item.timestamp) }}
      </div>
      <p class="text-base leading-6 tracking-tight">
        {{ item.text }}
      </p>
    </div>
  </div>
</div>
