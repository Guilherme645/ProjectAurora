<div class="flex flex-col">
  <div class=" min-w-full inline-block align-middle">
    <div class="overflow-hidden">
      <table class="min-w-full divide-y">
        <thead class="">
          <tr>
            <th scope="col" class="px-6 h-11 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
            <th scope="col" class="px-6 h-11 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">E-mail</th>
            <th scope="col" class="px-6 h-11 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo de usuário</th>
            <th scope="col" class="px-6 h-11 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
              <button 
                type="button" 
                class="inline-flex justify-center items-center w-[30px] h-[30px] bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50">
                <svg 
                  class="w-4 h-4 text-gray-800" 
                  xmlns="http://www.w3.org/2000/svg" 
                  fill="none" 
                  viewBox="0 0 24 24" 
                  stroke="currentColor" 
                  stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V19l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                </svg>
              </button>
            </th>
            <th scope="col" class="px-6 h-11 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
            <th scope="col" class="px-6 h-11 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"></th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <tr *ngFor="let collaborator of paginatedCollaborators" class="odd:bg-white even:bg-gray-50 hover:bg-gray-100">
            <td class="px-6 h-11 whitespace-nowrap text-sm font-medium text-gray-800">{{ collaborator.name }}</td>
            <td class="px-6 h-11 whitespace-nowrap text-sm text-gray-800">{{ collaborator.email }}</td>
            <td class="px-6 h-11 whitespace-nowrap text-sm text-gray-800">
              <app-chips 
                [label]="collaborator.userType" 
                [color]="getChipColor(collaborator.userType)">
              </app-chips>
            </td>
            <td class="px-6 h-11 whitespace-nowrap text-center text-sm font-medium">
            </td>
            <td class="px-6 h-11 whitespace-nowrap text-center text-sm font-medium">
              <div class="flex items-center justify-center gap-x-4">
                <app-switch 
                  [value]="collaborator.status === 'active'" 
                  (valueChange)="onStatusChange(collaborator, $event)">
                </app-switch>
              </div>
            </td>
            <td class="px-6 h-11 whitespace-nowrap text-center text-sm font-medium">
              <div class="hs-dropdown relative inline-flex" data-hs-dropdown>
                <button id="hs-dropdown-vertical-actions-{{collaborator.id}}" type="button" class="hs-dropdown-toggle p-1 inline-flex justify-center items-center gap-2 font-medium text-gray-700 hover:text-gray-900 focus:text-gray-900 transition-all text-sm">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[10rem] bg-white shadow-md rounded-lg p-2 mt-2 divide-y divide-gray-200 z-10" [attr.aria-labelledby]="'hs-dropdown-vertical-actions-' + collaborator.id">
                  <div class="py-2 first:pt-0 last:pb-0">
 <a 
          class="flex items-center gap-x-3.5 py-2 px-3 rounded-md text-sm text-gray-800 cursor-pointer" 
          (click)="onEdit(collaborator)">
          Editar
        </a>                 
       </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center">
    <div>
      <p class="text-sm text-gray-600">
        Mostrando <span class="font-semibold text-gray-800">{{ (currentPage - 1) * itemsPerPage + paginatedCollaborators.length }}</span> de <span class="font-semibold text-gray-800">{{ collaborators.length }}</span> resultados
      </p>
    </div>
    <div>
      <nav class="flex items-center space-x-1">
        <button 
          type="button" 
          class="p-2.5 inline-flex items-center gap-x-2 text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none"
          [disabled]="currentPage === 1"
          (click)="previousPage()">
          <svg class="w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/></svg>
        </button>
        
        <ng-container *ngFor="let page of pagesArray">
           <button 
            type="button" 
           class="min-w-[38px] h-[38px] flex justify-center items-center py-2.5 text-sm font-medium rounded-md"
            [ngClass]="{
              'bg-gray-200 text-gray-800': currentPage === page, 
              'text-gray-800 hover:bg-gray-100': currentPage !== page
            }"
            (click)="goToPage(page)">
            {{ page }}
          </button>
        </ng-container>
        
        <button 
          type="button" 
          class="p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none"
          [disabled]="currentPage === totalPages"
          (click)="nextPage()">
          <svg class="w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
        </button>
      </nav>
    </div>
  </div>
</div>