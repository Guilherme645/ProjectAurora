<!-- player.component.html -->
<div>
  <!-- Versão Desktop -->
  <div *ngIf="!isMobile">
  <div
    #playerRef
    class="player-container touch-none bg-white shadow-lg rounded-[6px]"
    [ngClass]="{
      'fixed bottom-4 z-[70] w-[311px] h-[183px]': isFloating,
      'w-[625px] h-[367px] relative': !isFloating
    }"
    [ngStyle]="isFloating ? getFloatingStyles() : {}"
    cdkDrag="isFloating"
    [cdkDragConstrainPosition]="constrainToLayout"
  >
      <div class="w-full h-full bg-gray-200 relative rounded-[6px] overflow-hidden">
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 text-white p-4">
          <p>{{ errorMessage }}</p>
        </div>

        <!-- Video Player -->
        <video
          #videoPlayer
          class="w-full h-full object-cover"
          [muted]="false"
          [poster]="posterImage"
        >
          <source src="assets/avengers.mp4" type="video/mp4" />
          Seu navegador não suporta o elemento de vídeo.
        </video>
        <button 
        class="absolute inset-0 flex items-center justify-center"
        (click)="togglePlay()"
      >
        <svg 
          *ngIf="!isPlaying"
          class="w-10 h-10 text-white opacity-80 hover:opacity-100"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path d="M8 5v14l11-7z" />
        </svg>
      </button>
      </div>
    </div>
  </div>

  <!-- Versão Mobile -->
  <div *ngIf="isMobile">
    <div
      #playerRef
      class="player-container touch-none bg-white shadow-lg "
      [ngClass]="{
        'fixed bottom-4 z-50 w-[90%] max-w-[311px] h-[183px]': isFloating,
        'w-full h-[220px] relative': !isFloating
      }"
      [ngStyle]="isFloating ? getFloatingStyles() : {}"
      cdkDrag="isFloating"
      [cdkDragBoundary]="'.layout-container .flex-1'"
    >
      <div class="w-full h-full bg-gray-200 relative rounded-[6px] overflow-hidden">
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 text-white p-2">
          <p class="text-sm">{{ errorMessage }}</p>
        </div>

        <!-- Video Player -->
        <video
          #videoPlayer
          class="w-full h-full object-cover"
          [muted]="false"
          [poster]="posterImage"
        >
          <source src="assets/avengers.mp4" type="video/mp4" />
          Seu navegador não suporta o elemento de vídeo.
        </video>
        <button 
          class="absolute inset-0 flex items-center justify-center" 
          (click)="togglePlay()"
        >
          <svg class="w-8 h-8 text-white opacity-80 hover:opacity-100" fill="currentColor" viewBox="0 0 24 24">
            <path *ngIf="!isPlaying" d="M8 5v14l11-7z" />
            <g *ngIf="isPlaying">
              <rect x="6" y="4" width="4" height="16" rx="1" />
              <rect x="14" y="4" width="4" height="16" rx="1" />
            </g>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>