<div class="relative w-full max-w-[461px] h-[388px] bg-white   mx-auto md:mx-0">

  <div *ngIf="isLoading" class="absolute inset-0 flex flex-col items-center justify-center animate-pulse z-10 bg-white rounded-[8px]">
    <div class="w-[248px] h-[248px] rounded-full bg-gray-100"></div>
    <div class="mt-8 flex gap-4">
      <div class="h-4 w-20 bg-gray-100 rounded"></div>
      <div class="h-4 w-20 bg-gray-100 rounded"></div>
    </div>
  </div>

  <ng-container *ngIf="!isLoading && data">

    <div class="absolute left-[32px] top-[32px] flex flex-col gap-[4px] w-[329px]">
      <h3 class=" font-semibold text-[16px] leading-[24px] tracking-[-0.01em] text-[#1F2937]">
        {{ data.title }}
      </h3>
      <p class=" font-medium text-[12px] leading-[16px] tracking-[-0.01em] text-[#6B7280]">
        {{ data.subtitle }}
      </p>
    </div>

    <div class="absolute left-[32px] top-[108px] w-[248px] h-[248px]">
       <div #pieChart class="w-full h-full"></div>
       
       </div>

    <div class="absolute left-[328px] top-[108px] h-[248px] flex flex-col justify-center gap-[12px] w-[101px]">
      
      <div *ngFor="let item of data.data" class="flex flex-col justify-center items-start gap-[2px]">
        
        <div class="flex flex-row items-center gap-[8px] h-[16px]">
          <span class="w-[6px] h-[6px] rounded-full flex-shrink-0" [style.background-color]="item.color"></span>
          <span class=" font-medium text-[12px] leading-[16px] tracking-[-0.01em] text-[#6B7280] whitespace-nowrap">
            {{ item.label }}
          </span>
        </div>

        <span class=" font-medium text-[14px] leading-[20px] tracking-[-0.01em] text-[#000000] text-center pl-[14px]">
          {{ item.value | number:'1.2-2' }}%
        </span>

      </div>

    </div>

  </ng-container>

</div>