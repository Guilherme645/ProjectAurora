<div class="relative min-h-screen bg-gray-50">
  <!-- Sidebar fixa (casa com ml-80) -->
  <aside class="fixed inset-y-0 left-0 z-50 h-full w-80 bg-neutral-800 text-white">
    <app-side-bar-employees
      (userChange)="onUserChange($event)"
      (openModalExternally)="toggleModal()">
    </app-side-bar-employees>
  </aside>

  <!-- Conteúdo -->
  <main class="lg:ml-80 px-4 sm:px-8 py-6 flex flex-col items-stretch gap-6">

    <!-- Header em container amplo -->
    <div class="w-full max-w-screen-2xl mx-auto">
      <app-header-employees (openModal)="toggleModal()"></app-header-employees>
    </div>

    <!-- Tabela em container amplo -->
    <section class="w-full max-w-screen-2xl mx-auto bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden">
      <!-- se o app-table-employees não for responsivo por dentro,
           você pode envolver com <div class="overflow-x-auto"> aqui -->
      <app-table-employees
        class="block w-full"
        [collaborators]="collaborators"
        (deactivateCollaborator)="onDeactivateCollaborator($event)"
        (editCollaborator)="handleEdit($event)">
      </app-table-employees>
    </section>
  </main>

  <!-- Modal: criar/editar colaborador -->
  <div *ngIf="isModalOpen"
       class="fixed inset-0 z-[1050] flex items-center justify-center bg-black/40 backdrop-blur-sm"
       (click)="closeModal()">
    <div (click)="$event.stopPropagation()">
      <app-modal-create-collaborator
        [editMode]="!!selectedCollaboratorForEdit"
        [collaboratorData]="selectedCollaboratorForEdit"
        (close)="closeModal()"
        (collaboratorSaved)="handleCollaboratorSaved($event)">
      </app-modal-create-collaborator>
    </div>
  </div>

  <!-- Modal: desativar colaborador -->
  <app-modal-desactived-employees
    *ngIf="isDeactivationModalOpen"
    [collaboratorName]="selectedCollaboratorForDeactivation?.name"
    [collaboratorEmail]="selectedCollaboratorForDeactivation?.email"
    [collaboratorUserType]="selectedCollaboratorForDeactivation?.userType"
    (cancel)="closeDeactivationModal()"
    (confirm)="confirmDeactivation()">
  </app-modal-desactived-employees>
</div>
